---
/**
 * @file Pricing Table Server Island
 * @module islands/pricing-table
 * @classification Internal
 * @description
 * The isolated server rendering context for the Pricing Table.
 *
 * @description
 * Simulates a "Heavy" server-side operation (e.g., real-time price fetching from Stripe)
 * to demonstrate the benefits of the Island architecture.
 *
 * @performance
 * - Execution: Runs on Edge/Server (not Client)
 * - Blocking: Intentionally delays by 500ms to visualize skeleton state
 *
 * @security
 * Runs in a secure server context. Safe to access sensitive environment variables here.
 */

 import PricingTableSvelte from '../storyblok/PricingTable.svelte';
import type { PricingTableBlok } from '@/types/generated/storyblok';

interface Props {
  blok: PricingTableBlok;
}

const { blok } = Astro.props;

/**
 * @simulation
 * Artificial delay to represent expensive backend logic (DB/API calls).
 * This confirms that the main page load is NOT blocked by this component.
 */
await new Promise(resolve => setTimeout(resolve, 500));
---

<PricingTableSvelte blok={blok} client:load />
